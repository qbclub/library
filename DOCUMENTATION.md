# Краткое описание всех существующих функций проекта

## Книги

-   Список книг (тут проблема с отображением, так как получаем книги не сразу, но решили с помощью загрузочного экрана), компонента `ListOfBooks`.
-   В нём расположены компоненты `MiniBook`.
-   При нажатии на `MiniBook` нас перенаправляет на страницу со всей информацией о книге, компонента `Book`.
-   В кмопоненте `Book` есть кнопки, которые видны в зависимости от типа юзера(админ, не админ).
-   Админу видны кнопки `ВЫДАТЬ` `ПОЛУЧИТЬ` `ИЗМЕНИТЬ` `УДАЛИТЬ`
-   Любому пользователю видна кнопка `ВЗЯТЬ КНИГУ`, которая есть в зависимости от состояния книги(`На месте` `Заразервирована` `Выдана`)
-   На кнопку `ВЗЯТЬ КНИГУ` изменяется поле состояния книги на `Заразервирована`, также `ReservedQueue` присваивается емейл резервирующего. С юзером: во **Vuex** в поле `CurrentReservedBooks` добавляется `Id` книги, в базе данных также. Создаётся `bookflow`. **Со всеми другими кнопками делается то же самое, только обновляющиеся поля разные, короче там всё понятно**

### Структура объекта в базе данных:

-   `Id`
-   `Name`
-   `Annotation`
-   `TableOfContents`
-   `CoverPath` //путь , где лежит изображение обложки книги
-   `Authors` //массив авторов
-   `Sections` //массив разделов, т.е. книга может принадлежать нескольким разделам
-   `Status` // статус: `Зарезервирована`, `Выдана`, `На месте`
-   `ReservedQueue` // очередь FIFO Id-шников, кто из пользователей зарезервировал книгу
-   `TemporaryOwner` // кому книга выдана
-   `DateOfGivenOut` // когда книга выдана
-   `ReleaseDate` //дата выпуска книги издательством
-   `TimeStamp`
-   `PhysicalPlace` //место физического расположения книги
-   `ISBN`
-   `PublisherName` // название издательства книги
-   `PageCount` // кол-во страниц в книге
-   `Series` // серия

Важно то, что пока-что `TimeStamp` и `Id` совпадают

## `Bookflow` события книги

### Генерируется, чтобы собирать статистику книги, нужно показывать её юзерам

### Структура объекта в базе данных:

-   `Id`
-   `BookId`
-   `UserEmail`
-   `BookStatus` статус: `Зарезервирована`, `Выдана`, `На месте`
-   `TimeStamp`

Пока-что `Id` и `TimeStamp` совпадают.

## User

### Процесс входа юзера в систему:

-   Сначала любому пользователю предлагается зарегистрироваться или аутентифицироваться(айтентификация на `firebase`)
-   При регистрации пользователь отсылется сначала в `firebase`, там всё, что нужно проверяется
-   При усепшной регистрации в `firebase` юзер добавляется в базу данных, там **сначала только его емейл**
-   Когда пользователь либо приходит за книгой, либо просто завершить регистрацию, добавляются остальные поля с различной информацией.
-   Далее, даже не придя заполнять всю информацию юзер может просматривать книги, но **брать он их не смеет**

### Структура объекта в базе данных:

-   `FirstName`
-   `LastName`
-   `BirthDate`
-   `EducationalInstitution`
-   `LivingAddress`
-   `isAdmin`
-   `CurrentTakenBooks`
-   `CurrentReservedBooks`
-   `Contacts`: { `PhoneNumber`, `Email`, `SocCeti` }
-   `PhotoPath`
